function __getRuta() {
    // --------------- rutas --------------- //
    var rutaActual = location.href;
    $('.blueR').click(function() {
        localStorage.setItem("boutiqueBlue-crm-ruta", rutaActual);
    });
}
//--------------- KEYUP ---------------//
function __keyUp() {
    $("#gProducto").keyup(function() {
        var ganacia = $("#gProducto").val();
        var valor = (100 - ganacia) / 100;
        var price = $("#pCompra").val();
        var venta = Intl.NumberFormat('es-MX', {
            style: 'currency',
            currency: 'MXN'
        }).format(price / valor);
        $("#PrecioVenta").html(venta);
        var ventaFormat = (price / valor).toFixed(2);
        $("#vProducto").val(ventaFormat);
    });
    $("#pCompra").keyup(function() {
        var price = $("#pCompra").val();
        var ganacia = $("#gProducto").val();
        var valor = (100 - ganacia) / 100;
        var venta = Intl.NumberFormat('es-MX', {
            style: 'currency',
            currency: 'MXN'
        }).format(price / valor);
        $("#PrecioVenta").html(venta);
        var ventaFormat = (price / valor).toFixed(2);
        $("#vProducto").val(ventaFormat);
    });
}
//--------------- FORMATO NÚMERO DE TELÉFONO ---------------//
function __numTelFormat() {
    var count = $('#countResult').val();
    for (var i = 0; i < count; i++) {
        var numberFormat = $('.phoneFormat' + i).html();
        console.log(i);
        if (numberFormat) {
            const parte1 = numberFormat.slice(0, 3);
            const parte2 = numberFormat.slice(3, 6);
            const parte3 = numberFormat.slice(6, 10);
            var numberFormatValue = `${parte1}-${parte2}-${parte3}`
            $('.phoneFormat' + i).html(numberFormatValue);
        }
    }
}
//--------------- CLICK ---------------//
function __click() {
    // $('#reportA').click(function($this) {
    //     $('#recordVentas').html('<center class="mt-5"><i class="fa-solid fa-spinner fa-spin-pulse" style="color: #4285f4; font-size:250px"></i></center>');
    //     // var to = $(this).attr("to");
    //     // if (to != "") {
    //         $.ajax({
    //             url: "http://192.168.1.73:8585/boutique-blue/ajax/getVentasAnio",
    //             type: "post",
    //             dataType: "html",
    //             // data: {
    //             //     to: to
    //             // },
    //             beforeSend: function(r) {},
    //             success: function(r) {
    //                 if (0 != (r = JSON.parse(r)).Status) {
    //                     console.log(r);
                        
    //                     var options = {
    //                         series: [{
    //                             name: "Reporte anual de ventas",
    //                             data: [
    //                                 for (var s in r.reportVentas) "'"+r.reportVentas[s].ventaTotal+"',"
    //                             ]
    //                         }],
    //                         chart: {
    //                             height: 350,
    //                             type: 'line',
    //                             dropShadow: {
    //                                 enabled: true,
    //                                 color: '#000',
    //                                 top: 18,
    //                                 left: 7,
    //                                 blur: 10,
    //                                 opacity: 0.2
    //                             },
    //                             zoom: {
    //                                 enabled: false
    //                             },
    //                             toolbar: {
    //                                 show: false
    //                             }
    //                         },
    //                         colors: ['#34a853'],
    //                         dataLabels: {
    //                             enabled: true,
    //                             formatter: function(val, opts) {
    //                                 return Intl.NumberFormat('es-MX', {
    //                                     style: 'currency',
    //                                     currency: 'MXN'
    //                                 }).format(val);
    //                             },
    //                         },
    //                         stroke: {
    //                             curve: 'smooth'
    //                         },
    //                         title: {
    //                             text: 'Reporte anual de ventas',
    //                             align: 'left'
    //                         },
    //                         grid: {
    //                             borderColor: '#000000',
    //                             row: {
    //                                 colors: ['#212529'], // takes an array which will be repeated on columns
    //                                 opacity: 0.5
    //                             },
    //                         },
    //                         markers: {
    //                             size: 1
    //                         },
    //                         xaxis: {
    //                             categories: [for (var s in r.reportVentas) "'"+r.reportVentas[s].v_fecha+"'," ],
    //                             title: {
    //                                 text: 'Año'
    //                             }
    //                         },
    //                         yaxis: {
    //                             title: {
    //                                 text: 'Pesos'
    //                             },
    //                             min: 5,
    //                             max: 40
    //                         },
    //                         legend: {
    //                             position: 'top',
    //                             horizontalAlign: 'right',
    //                             floating: true,
    //                             offsetY: -25,
    //                             offsetX: -5
    //                         }
    //                     };
    //                     $('#recordVentas').html('');
    //                     var chart = new ApexCharts(document.querySelector("#recordVentas"), options).render();
    //                 } else {
    //                     $('#recordVentas').html('<center class="mt-5"><h4>Lo sentimos hubo un error. Intentalo nuevamente</h4></center>');
    //                 }
    //             },
    //             error: function(a) {
    //                 $('#recordVentas').html('<center class="mt-5"><h4>Lo sentimos hubo un error. Intentalo nuevamente</h4></center>');
    //             },
    //         });
    //     // } else {
    //     //     $('#recordVentas').html('<center class="mt-5"><h4>Lo sentimos hubo un error. Intentalo nuevamente</h4></center>');
    //     // }
    // });
}

$(document).ready(__getRuta);
$(document).ready(__keyUp);
$(document).ready(__numTelFormat);
$(document).ready(__click);